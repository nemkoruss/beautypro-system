BeautyPro System - Telegram Bot для студии маникюра

Описание проекта

Telegram бот для автоматизации записи клиентов в студию маникюра. Бот предоставляет:

· Клиентский интерфейс для выбора услуг и записи
· Административную панель для управления услугами и мастерами
· Базу данных для хранения клиентов и заказов
· Автоматические уведомления администраторам

Функциональность

Клиентская часть:

· Выбор категорий услуг (Маникюр/Педикюр)
· Просмотр услуг, цен и времени выполнения
· Выбор мастера
· Ввод контактных данных
· Автоматическое уведомление администратора

Административная часть:

· Управление услугами (добавление/удаление/изменение)
· Управление мастерами
· Просмотр списка клиентов и заказов
· Генерация отчетов

Установка и запуск

Способ 1: Автоматическая установка (рекомендуется)

1. Клонируйте репозиторий:

```bash
git clone https://github.com/nemkoruss/beautypro-system.git
cd beautypro-system
```

1. Сделайте скрипт установки исполняемым:

```bash
chmod +x scripts/setup_bot.sh
```

1. Запустите скрипт установки:

```bash
./scripts/setup_bot.sh
```

Скрипт автоматически:

· Обновит систему
· Установит необходимые зависимости
· Создаст .env файл с вашими настройками
· Настроит бота как системную службу
· Запустит бота

Способ 2: Ручная установка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/nemkoruss/beautypro-system.git
cd beautypro-system
```

1. Создайте виртуальное окружение:

```bash
python3 -m venv venv
source venv/bin/activate
```

1. Установите зависимости:

```bash
pip install -r requirements.txt
```

1. Создайте файл .env:

```bash
cp .env.example .env
```

1. Отредактируйте .env файл:

```env
BOT_TOKEN=your_bot_token_here
ADMIN_IDS=123456789,987654321
PHONE_NUMBER=+79991234567
WEBSITE_URL=https://your-beauty-site.com
TELEGRAM_CHANNEL=@your_channel
MAP_COORDINATES=55.7558,37.6173
```

1. Запустите бота:

```bash
python main.py
```

Настройка .env файла

Получите BOT_TOKEN у BotFather в Telegram:

1. Напишите /newbot BotFather
2. Выберите имя для бота
3. Получите токен и добавьте его в .env

Остальные параметры:

· ADMIN_IDS - ID администраторов через запятую (можно получить у @userinfobot)
· PHONE_NUMBER - телефон студии для кнопки "Позвонить"
· WEBSITE_URL - сайт студии
· TELEGRAM_CHANNEL - username канала
· MAP_COORDINATES - координаты студии (широта,долгота)

Управление службой

После автоматической установки бот работает как системная служба:

Проверить статус:

```bash
sudo systemctl status tg_bot.service
```

Остановить бота:

```bash
sudo systemctl stop tg_bot.service
```

Запустить бота:

```bash
sudo systemctl start tg_bot.service
```

Перезапустить бота:

```bash
sudo systemctl restart tg_bot.service
```

Просмотреть логи:

```bash
sudo journalctl -u tg_bot.service -f
```

Структура проекта

```
beautypro-system/
├── .env                    # Конфигурационные переменные
├── config.py              # Загрузка конфигурации
├── main.py                # Основной файл бота
├── database.py            # Работа с базой данных
├── client_handlers.py     # Обработчики клиентской части
├── admin_handlers.py      # Обработчики административной части
├── bot.log               # Логи работы бота
├── requirements.txt       # Зависимости Python
├── scripts/
│   └── setup_bot.sh      # Скрипт автоматической установки
└── fonts/
    ├── DejaVuSans-Bold.ttf
    └── DejaVuSans.ttf    # Шрифты для генерации PDF
```

Команды бота

· /start - начать работу с ботом
· /admin - панель администратора (только для админов)
· /cancel - отменить текущее действие

База данных

Бот использует SQLite базу данных (beauty_bot.db) со следующими таблицами:

· services - услуги и цены
· masters - мастера и их специализации
· clients - информация о клиентах
· orders - история заказов

Логирование

Все действия бота записываются в bot.log с детальной информацией:

· Время событий
· Действия пользователей
· Ошибки и исключения
· Системные сообщения

Разработка и contribution

1. Форкните репозиторий
2. Создайте feature branch: git checkout -b feature/new-feature
3. Сделайте коммит: git commit -am 'Add new feature'
4. Запушьте ветку: git push origin feature/new-feature
5. Создайте Pull Request

Лицензия

Этот проект распространяется под лицензией MIT. Подробнее см. в файле LICENSE.

Поддержка

Если у вас возникли проблемы:

1. Проверьте логи: sudo journalctl -u tg_bot.service -f
2. Убедитесь, что все переменные в .env заполнены правильно
3. Проверьте, что бот имеет необходимые права

Для дополнительной помощи создайте issue в репозитории GitHub.

Безопасность

· Никогда не делитесь вашим BOT_TOKEN
· Регулярно обновляйте зависимости
· Храните .env файл в безопасности
· Используйте сложные пароли для администраторов